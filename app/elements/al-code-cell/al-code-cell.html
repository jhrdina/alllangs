
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymer-ts/polymer-ts.html">
<link rel="import" href="../../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../../bower_components/iron-autogrow-textarea/iron-autogrow-textarea.html">
<link rel="import" href="../../bower_components/prism-js/prism-js.html">


<dom-module id="al-code-cell">
  <template>
    <link rel="stylesheet" href="../../bower_components/prism/themes/prism.css">
    <style>
      :host {
        @apply(--layout);

        font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
      }

      iron-autogrow-textarea {
        @apply(--layout-auto);
        border-style: none;
        line-height: 1.5;
      }

      prism-js /deep/ pre[class*="language-"] {
        margin: 0;
        padding: 2px;
      }

    </style>

    <template is="dom-if" if="[[!editing]]">
      <prism-js language="[[language]]" input-value="{{text}}"></prism-js>
    </template>
    <template is="dom-if" if="[[editing]]">
      <iron-autogrow-textarea
        on-keydown="keyDown"
        bind-value="{{editedText}}">
      </iron-autogrow-textarea>
    </template>

  </template>
</dom-module>

<script type="text/javascript" src="al-code-cell.js"></script>
