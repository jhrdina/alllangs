<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymer-ts/polymer-ts.html">

<link rel="import" href="../al-section-header/al-section-header.html">
<link rel="import" href="../al-construct-row/al-construct-row.html">

<dom-module id="al-main-view">
  <template>
    <style>
      table {
        border-collapse: collapse;
        border: 1px solid black;
      }

      th {
        border: 1px solid black;
      }

      al-section-header {
        /*margin-left: 8px;*/
      }

      al-construct-row {
        --al-construct-row-code-font: {
          font-size: 11pt;
        };
      }
    </style>
    <table>
      <thead>
        <tr>
          <th>Construct</th>
          <!-- Language titles -->
          <template is="dom-repeat" items="{{languages}}" as="language">
            <th>{{ language.name }}</th>
          </template>
        </tr>
      </thead>
      <tbody>
        <template is="dom-repeat" items="{{sections}}" as="section" index-as="sectionIndex">
          <!-- Section header -->
          <tr>
            <td colspan="100">
              <al-section-header text="{{section.title}}"></al-section-header>
            </td>
          </tr>
          <!-- Section content -->
          <template is="dom-repeat" items="{{section.constructs}}" as="construct" index-as="constructIndex">
            <al-construct-row
              construct="{{construct}}"
              languages="{{languages}}"
              disabled="[[disabled]]"
              on-change-solution="_onChangeSolution"
              on-add-construct-below="_onAddConstructBelow"
              on-delete="_onDelete"
              on-add-section-below="_onAddSectionBelow"
              on-move-up="_onMoveUp"
              on-move-down="_onMoveDown">
            </al-construct-row>
          </template>
        </template>
      </tbody>
    </table>
  </template>
</dom-module>

<script type="text/javascript" src="al-main-view.js"></script>
